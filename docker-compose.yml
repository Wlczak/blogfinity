services:
    blogfinity:
        image: wlczak/blogfinity:latest
        labels:
            - com.centurylinklabs.watchtower.enable=true
        volumes:
            # - ./:/app # For local development
            - ./db/:/app/db/
            - ./logger/logs/:/app/logger/logs/
            - ./:/app/conf/
        working_dir: /app
        restart: always
        environment:
            - OLLAMA_SERVER_IPS=${OLLAMA_SERVER_IPS}
        extra_hosts:
            # For local ollama backup
            - "host.docker.internal:host-gateway"
        ports:
            - "1111:8080"
        command: ./blogfinity
        networks:
            - blogfinity-net

networks:
    blogfinity-net:
        name: blogfinity-net
